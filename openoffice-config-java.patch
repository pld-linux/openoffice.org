--- oo/config_office/configure.in.old	Fri Nov  1 20:24:40 2002
+++ oo/config_office/configure.in	Fri Nov  1 20:32:31 2002
@@ -789,93 +789,16 @@
    _correct_jdk_exists="false"
    dnl java -version sends output to stderr!
    _jdk=`$JAVA -J-version 2>&1 | $AWK -F'"' '{ print \$2 }'`
-   if test "$_os" = "SunOS" -o "$_os" = "OSF1"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-      _jdk_middle3=`echo $_jdk | $AWK -F. '{ if ($2 != 3) print "false"; else print "true" }'`
-     if test "$_jdk_middle" = "false" -a "$_jdk_middle3" = "true"; then
-         _jdk_minor="true"
-     fi
-   fi
-   if test "$_os" = "IRIX" -o "$_os" = "IRIX64"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-      _jdk_middle3=`echo $_jdk | $AWK -F. '{ if ($2 != 3) print "false"; else print "true" }'`
-		     
-      if test "$_jdk_middle" = "false" -a "$_jdk_middle3" = "true"; then
-         _jdk_minor="true"
-      fi      
-   fi
 
-   if test "$_os" = "Linux" -a "$_machine_type" = "i686" -o "$_os" = "FreeBSD"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-      _jdk_middle3=`echo $_jdk | $AWK -F. '{ if ($2 != 3) print "false"; else print "true" }'`
+   _jdk_ver=`echo "$_jdk" | awk -F . '{ printf "%d", (($1 * 100) + $2) * 100 + $3;}'`
 
-      if test "$_jdk_middle" = "false" -a "$_jdk_middle3" = "true"; then
-         _jdk_minor="true"
-      fi
-   fi
-   if test "$_os" = "NetBSD"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-   fi
-   if test "$_os" = "Linux" -a "$_machine_type" = "sparc"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-   fi
-   if test "$_os" = "Linux" -a "$_machine_type" = "ppc"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-   fi
-   if test "$_os" = "Linux" -a "$_machine_type" = "armv4l"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-   fi
-   if test "$_os" = "WINNT"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 2) print "false"; else print "true" }'`
-      _jdk_middle3=`echo $_jdk | $AWK -F. '{ if ($2 != 3) print "false"; else print "true" }'`
-
-      if test "$_jdk_middle" = "false" -a "$_jdk_middle3" = "true"; then
-         _jdk_minor="true"
-      fi
-   fi
-   if test "$_os" = "Darwin"; then
-      _jdk_middle=`echo $_jdk | $AWK -F. '{ if ($2 != 3) print "false"; else print "true" }'`
-   fi
-   if test "$_jdk_middle" = "true"; then
-      if test "$_os" = "SunOS" -o "$_os" = "IRIX" -o "$_os" = "IRIX64"; then
-         _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-      fi
-      if test "$_os" = "FreeBSD"; then
-         _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-      fi
-      if test "$_os" = "NetBSD"; then
-         _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-      fi
-      if test "$_os" = "Linux"; then
-         if test "$_machine_type" = "i686"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-         fi
-         if test "$_machine_type" = "sparc"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-         fi 
-         if test "$_machine_type" = "ppc"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-         fi 
-         if test "$_machine_type" = "armv4l"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-         fi 
-      fi
-      if test "$_os" = "OSF1"; then
-         _jdk_minor=`echo $_jdk | $AWK -F- '{print $1}' | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-      fi
-      if test "$_os" = "WINNT"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 2) print "false"; else print "true" }'`
-      fi
-      if test "$_os" = "Darwin"; then
-            _jdk_minor=`echo $_jdk | $AWK -F. '{ if ($3 != 0) print "false"; else print "true" }'`
-      fi
-   fi
-   if test "$_jdk_minor" = "true"; then
+   if test "$_jdk_ver" -lt 10300; then
+	AC_MSG_WARN([You need at least jdk-1.3])
+        _correct_jdk_exists="false"
+   else
       _correct_jdk_exists="true"
       JAVA_HOME=`echo $JAVA | $SED -n "s/\/bin\/javac//p"`
       AC_MSG_RESULT([checked (JDK $_jdk)])
-   else
-      _correct_jdk_exists="false"
    fi
 else
    _correct_jdk_exists="false"
